{"version":3,"sources":["webpack:///./src/components/Content/EditButton.tsx","webpack:///./src/components/Content/AvatarList.tsx","webpack:///./src/components/Content/Article.tsx","webpack:///./src/components/Content/MainContent.tsx","webpack:///./src/templates/docs.tsx"],"names":["EditButton","_ref","title","filename","_ref$sourcePath","sourcePath","external_React_default","a","createElement","tooltip_default","className","target","rel","href","icon_default","type","AvatarList","render","_this$props$avatarLis","this","props","avatarList","map","item","text","avatar_default","src","alt","size","React","Component","Article","componentDidMount","delegation","delegate","node","e","window","ga","delegateTarget","componentWillUnmount","clearTimeout","pingTimer","destroy","_this","content","meta","subtitle","path","modifiedTime","locale","context","intl","_react_document_title_2_0_3_react_document_title_default","Fragment","ref","Content_EditButton","index_es","id","Content_AvatarList","moment","format","toc","length","affix_default","offsetTop","dangerouslySetInnerHTML","__html","replace","PureComponent","contextTypes","PropTypes","object","isRequired","SubMenu","getModuleDataWithProps","moduleData","menuList","excludedSuffix","isZhCN","location","pathname","filter","includes","isNotTopLevel","level","MainContent","_React$PureComponent","call","getSideBarOpenKeys","nextProps","find","_ref2","slug","handleMenuOpenChange","openKeys","setState","convertFilename","generateMenuItem","_ref3","_ref3$before","before","_ref3$after","after","key","disabled","child","link","gatsby_browser_entry","to","menu_default","Item","important","badge_default","dot","generateSubMenuItems","obj","footerNavIcons","topLevel","bind","_assertThisInitialized","itemGroups","Object","keys","groupItems","sort","b","time","valueOf","order","charCodeAt","concat","_toConsumableArray","getMenuItems","menuItems","_ref6","getPreAndNext","localizedPageData","list","children","reduce","pre","index","findIndex","prev","next","state","componentDidUpdate","componentWillReceiveProps","hash","element","document","getElementById","decodeURIComponent","setTimeout","scrollIntoView","timer","_this$props","isMobile","activeMenuItem","endsWith","substring","_this$getPreAndNext","mainContainerClass","classNames","menuChild","inlineIndent","mode","selectedKeys","onOpenChange","row_default","es","iconChild","wrapperClassName","col_default","xxl","xl","lg","md","sm","xs","Article_Article","assign","span","offset","Template","data","rest","_objectWithoutPropertiesLoose","markdownRemark","allMarkdownRemark","frontmatter","fields","html","tableOfContents","edges","newFrontmatter","transformerFrontmatter","layout","MainContent_MainContent","pageQuery"],"mappings":"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","file":"component---src-templates-docs-tsx-9e167ac0a5b75c0ac058.js","sourcesContent":["import React from 'react';\nimport { Tooltip, Icon } from 'antd';\n\nconst EditButton: React.FC<{\n  title: React.ReactNode;\n  filename?: string;\n  sourcePath?: string;\n}> = ({\n  title,\n  filename,\n  sourcePath = 'https://github.com/ant-design/ant-design-pro-site/edit/master',\n}) => (\n  <Tooltip title={title}>\n    <a\n      className=\"edit-button\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={`${sourcePath}${filename}`}\n    >\n      <Icon type=\"edit\" />\n    </a>\n  </Tooltip>\n);\n\nexport default EditButton;\n","import React from 'react';\nimport { Avatar, Tooltip } from 'antd';\n\nclass AvatarList extends React.Component<{\n  avatarList: {\n    href: string;\n    text: string;\n    src: string;\n  }[];\n}> {\n  main: HTMLDivElement | null;\n\n  render() {\n    const { avatarList = [] } = this.props;\n    if (!avatarList) {\n      return null;\n    }\n    return (\n      <div className=\"doc-avatar-list\">\n        {avatarList.map(item => (\n          <a\n            className=\"href-box\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={`http://github.com${item.href}`}\n          >\n            <Tooltip title={item.text}>\n              <Avatar src={item.src} alt={item.text} size=\"small\" />\n            </Tooltip>\n          </a>\n        ))}\n      </div>\n    );\n  }\n}\nexport default AvatarList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport DocumentTitle from 'react-document-title';\nimport { Affix } from 'antd';\nimport delegate from 'delegate';\nimport moment from 'moment';\nimport EditButton from './EditButton';\nimport { IFrontmatterData } from '../../templates/docs';\nimport AvatarList from './AvatarList';\n\ninterface ArticleProps {\n  content: {\n    meta: IFrontmatterData;\n    toc: string | false;\n    content: string;\n  };\n}\n\nexport default class Article extends React.PureComponent<ArticleProps> {\n  static contextTypes = {\n    intl: PropTypes.object.isRequired,\n  };\n\n  delegation: any;\n\n  pingTimer: number;\n\n  node: HTMLElement | null | undefined;\n\n  componentDidMount() {\n    // Add ga event click\n    this.delegation = delegate(\n      this.node,\n      '.resource-card',\n      'click',\n      (e: { delegateTarget: { href: any } }) => {\n        if ((window as any).ga) {\n          (window as any).ga('send', 'event', 'Download', 'resource', e.delegateTarget.href);\n        }\n      },\n      false,\n    );\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.pingTimer);\n    if (this.delegation) {\n      this.delegation.destroy();\n    }\n  }\n\n  render() {\n    const { props } = this;\n    const { content } = props;\n    const { meta } = content;\n    const { title, subtitle, path, modifiedTime, avatarList } = meta;\n    const {\n      intl: { locale },\n    } = this.context as {\n      intl: {\n        locale: 'zh-CN' | 'en-US';\n      };\n    };\n    return (\n      <DocumentTitle title={`${title[locale] || title} - Ant Design Pro`}>\n        <>\n          <article\n            className=\"markdown\"\n            ref={node => {\n              this.node = node;\n            }}\n          >\n            <h1>\n              {title[locale] || title}\n              {!subtitle || locale === 'en-US' ? null : (\n                <span className=\"subtitle\">{subtitle}</span>\n              )}\n              <EditButton title={<FormattedMessage id=\"app.content.edit-page\" />} filename={path} />\n            </h1>\n\n            <div className=\"modifiedTime\">\n              <AvatarList avatarList={avatarList} />\n              <FormattedMessage id=\"app.content.modifiedTime\" />\n              {moment(modifiedTime).format('YYYY-MM-DD HH:mm:SS')}\n            </div>\n\n            {!content.toc || content.toc.length <= 1 || meta.toc === false ? null : (\n              <Affix className=\"toc-affix\" offsetTop={16}>\n                <div\n                  dangerouslySetInnerHTML={{\n                    __html: content.toc.replace(/<ul>/g, '<ul class=\"toc\">').replace(/\\/#/g, '#'),\n                  }}\n                />\n              </Affix>\n            )}\n            <section\n              className=\"markdown api-container\"\n              dangerouslySetInnerHTML={{ __html: content.content }}\n            />\n          </article>\n        </>\n      </DocumentTitle>\n    );\n  }\n}\n","/* eslint-disable eslint-comments/disable-enable-pair */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport { Link } from 'gatsby';\nimport { Badge, Row, Col, Menu, Icon } from 'antd';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport MobileMenu from 'rc-drawer-menu';\nimport moment from 'moment';\nimport Article from './Article';\nimport { isZhCN, getMenuItems, MenuDataItem, IMenuData } from '../utils';\nimport { IFrontmatterData } from '../../templates/docs';\n\nconst { SubMenu } = Menu;\n\nexport interface MainContentProps {\n  isMobile: boolean;\n  location: {\n    pathname: string;\n  };\n  menuList: MenuDataItem[];\n  localizedPageData: {\n    meta: IFrontmatterData;\n    toc: string | false;\n    content: string;\n  };\n}\n\ninterface MainContentState {\n  openKeys: string[];\n}\n\nfunction getActiveMenuItem(props: MainContentProps) {\n  const { pathname } = props.location;\n  if (pathname.endsWith('/')) {\n    return pathname.substring(0, pathname.length - 1);\n  }\n  return pathname;\n}\n\nfunction getModuleDataWithProps(props: MainContentProps) {\n  const moduleData = props.menuList;\n  const excludedSuffix = isZhCN(props.location.pathname) ? 'zh-CN' : 'en-US';\n  return moduleData.filter(({ filename }) => {\n    if (!filename) {\n      return false;\n    }\n    if (!filename.includes('zh-CN') && !filename.includes('en-US')) {\n      return true;\n    }\n    return filename.includes(excludedSuffix);\n  });\n}\n\nfunction isNotTopLevel(level: string) {\n  return level !== 'topLevel';\n}\n\nexport default class MainContent extends React.PureComponent<MainContentProps, MainContentState> {\n  static contextTypes = {\n    intl: PropTypes.object.isRequired,\n  };\n\n  timer: number;\n\n  currentModule: string;\n\n  constructor(props: MainContentProps) {\n    super(props);\n    this.state = {\n      openKeys: this.getSideBarOpenKeys(props) || [],\n    };\n  }\n\n  componentDidMount() {\n    this.componentDidUpdate();\n  }\n\n  componentWillReceiveProps(nextProps: MainContentProps) {\n    const openKeys = this.getSideBarOpenKeys(nextProps);\n    if (openKeys) {\n      this.setState({\n        openKeys,\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (!window.location.hash) {\n      return;\n    }\n    const element = document.getElementById(\n      decodeURIComponent(window.location.hash.replace('#', '')),\n    );\n    setTimeout(() => {\n      if (element) {\n        element.scrollIntoView(true);\n      }\n    }, 100);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer);\n  }\n\n  getSideBarOpenKeys = (nextProps: MainContentProps) => {\n    const { pathname } = nextProps.location;\n    const moduleData = getModuleDataWithProps(nextProps);\n    const item = moduleData.find(({ slug }) => pathname.includes(slug));\n    if (item) {\n      return [item.type];\n    }\n    return [];\n  };\n\n  handleMenuOpenChange = (openKeys: string[]) => {\n    this.setState({\n      openKeys,\n    });\n  };\n\n  convertFilename = (filename: string) => {\n    const {\n      location: { pathname },\n    } = this.props;\n    if (isZhCN(pathname) && !filename.includes('-cn')) {\n      return `${filename}-cn`;\n    }\n    return filename;\n  };\n\n  generateMenuItem = ({ before = null, after = null }, item: MenuDataItem) => {\n    if (!item.title) {\n      return null;\n    }\n    const {\n      intl: { locale },\n    } = this.context as {\n      intl: {\n        locale: 'zh-CN' | 'en-US';\n      };\n    };\n    const text = [\n      <span key=\"english\">{item.title[locale] || item.title}</span>,\n      <span className=\"chinese\" key=\"chinese\">\n        {locale === 'zh-CN' && item.subtitle}\n      </span>,\n    ];\n\n    const { disabled } = item;\n\n    const child = !item.link ? (\n      <Link to={this.convertFilename(item.filename)}>\n        {before}\n        {text}\n        {after}\n      </Link>\n    ) : (\n      <a\n        href={item.link}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"menu-item-link-outside\"\n      >\n        {before}\n        {text} <Icon type=\"export\" />\n        {after}\n      </a>\n    );\n\n    return (\n      <Menu.Item key={this.convertFilename(item.filename)} disabled={disabled}>\n        {item.important ? <Badge dot={item.important}>{child}</Badge> : child}\n      </Menu.Item>\n    );\n  };\n\n  generateSubMenuItems = (obj?: IMenuData, footerNavIcons = {}) => {\n    const {\n      intl: { locale },\n    } = this.context as {\n      intl: {\n        locale: 'zh-CN' | 'en-US';\n      };\n    };\n    if (!obj) return [];\n    const topLevel = ((obj.topLevel as MenuDataItem[]) || []).map(\n      this.generateMenuItem.bind(this, footerNavIcons),\n    );\n    const itemGroups = Object.keys(obj)\n      .filter(isNotTopLevel)\n      .map(type => {\n        const groupItems = (obj[type] as MenuDataItem[])\n          .sort((a, b) => {\n            if ('time' in a && 'time' in b) {\n              return moment(b.time).valueOf() - moment(a.time).valueOf();\n            }\n            if ('order' in a && 'order' in b) {\n              return a.order - b.order;\n            }\n            return a.title[locale].charCodeAt(0) - b.title[locale].charCodeAt(0);\n          })\n          .map(this.generateMenuItem.bind(this, footerNavIcons));\n        return (\n          <SubMenu title={type} key={type}>\n            {groupItems}\n          </SubMenu>\n        );\n      });\n    return [...topLevel, ...itemGroups];\n  };\n\n  getMenuItems = (footerNavIcons = {}) => {\n    const moduleData = getModuleDataWithProps(this.props);\n    const {\n      intl: { locale },\n    } = this.context;\n    const menuItems: IMenuData = getMenuItems(moduleData, locale) || {};\n    const topLevel =\n      this.generateSubMenuItems(menuItems.topLevel as IMenuData, footerNavIcons) || [];\n\n    const result = [...topLevel].filter(({ key }) => key);\n    return result;\n  };\n\n  getPreAndNext = (menuItems: any) => {\n    const {\n      localizedPageData: {\n        meta: { filename },\n      },\n    } = this.props;\n\n    const list =\n      menuItems.length && !menuItems[0].props.children.length\n        ? menuItems\n        : Object.keys(menuItems).reduce(\n            (pre, key) => pre.concat(menuItems[key].props.children),\n            [],\n          );\n    const index = list.findIndex(\n      (item: { key: string }) => item.key === filename || item.key === `${filename}-cn`,\n    );\n\n    if (index === -1) {\n      return {};\n    }\n    return {\n      prev: list[index - 1],\n      next: list[index + 1],\n    };\n  };\n\n  render() {\n    const { localizedPageData, isMobile } = this.props;\n\n    const activeMenuItem = getActiveMenuItem(this.props);\n    const menuItems = this.getMenuItems();\n    const { prev, next } = this.getPreAndNext(menuItems);\n    const mainContainerClass = classNames('main-container', {});\n    const { openKeys } = this.state;\n    const menuChild = (\n      <Menu\n        inlineIndent={16}\n        className=\"aside-container\"\n        mode=\"inline\"\n        openKeys={openKeys}\n        selectedKeys={[activeMenuItem]}\n        onOpenChange={this.handleMenuOpenChange}\n      >\n        {menuItems}\n      </Menu>\n    );\n    return (\n      <div className=\"main-wrapper\">\n        <Row>\n          {isMobile ? (\n            <MobileMenu\n              iconChild={[<Icon type=\"menu-unfold\" />, <Icon type=\"menu-fold\" />]}\n              key=\"mobile-menu\"\n              wrapperClassName=\"drawer-wrapper\"\n            >\n              {menuChild}\n            </MobileMenu>\n          ) : (\n            <Col xxl={4} xl={5} lg={6} md={24} sm={24} xs={24} className=\"main-menu\">\n              {menuChild}\n            </Col>\n          )}\n          <Col xxl={20} xl={19} lg={18} md={24} sm={24} xs={24}>\n            <div className={mainContainerClass}>\n              <Article {...this.props} content={localizedPageData} />\n            </div>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col lg={{ span: 20, offset: 4 }} md={24} sm={24} xs={24}>\n            <section className=\"prev-next-nav\">\n              {prev ? (\n                <a className=\"prev-page\">\n                  <Icon className=\"footer-nav-icon-before\" type=\"left\" />\n                  {prev.props.children}\n                </a>\n              ) : null}\n              {next ? (\n                <a className=\"next-page\">\n                  {next.props.children}\n                  <Icon className=\"footer-nav-icon-after\" type=\"right\" />\n                </a>\n              ) : null}\n            </section>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport WrapperLayout from '../components/layout';\nimport MainContent from '../components/Content/MainContent';\nimport { transformerFrontmatter } from '../components/utils';\n\ninterface IMarkDownFields {\n  path: string;\n  slug: string;\n  modifiedTime: number;\n  avatarList: {\n    href: string;\n    text: string;\n    src: string;\n  }[];\n}\nexport interface IFrontmatterData extends IMarkDownFields {\n  title: {\n    'zh-CN': string;\n    'en-US': string;\n  };\n  time: string;\n  toc: string | boolean;\n  order: number;\n  type: string;\n  filename: string;\n  subtitle: string;\n  path: string;\n  disabled: boolean;\n  important: boolean;\n}\n\ntype Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n\nexport interface IGraphqlFrontmatterData extends Omit<IFrontmatterData, 'title'> {\n  title: {\n    zh_CN: string;\n    en_US: string;\n  };\n}\n\nexport interface IMarkdownRemarkData {\n  html: string;\n  tableOfContents: string;\n  frontmatter: IGraphqlFrontmatterData;\n  fields: IMarkDownFields;\n}\n\nexport interface IAllMarkdownRemarkData {\n  edges: {\n    node: {\n      frontmatter: IGraphqlFrontmatterData;\n      fields: IMarkDownFields;\n    };\n  }[];\n}\n\nexport default function Template({\n  data,\n  ...rest\n}: {\n  data: { markdownRemark: IMarkdownRemarkData; allMarkdownRemark: IAllMarkdownRemarkData };\n  isMobile: boolean;\n  location: {\n    pathname: string;\n  };\n}) {\n  const { markdownRemark, allMarkdownRemark } = data;\n  const { frontmatter, fields, html, tableOfContents } = markdownRemark;\n  const { edges } = allMarkdownRemark;\n  const menuList = edges.map(({ node }) => {\n    const newFrontmatter = transformerFrontmatter(node.frontmatter);\n    return {\n      slug: node.fields.slug,\n      meta: {\n        ...newFrontmatter,\n        slug: node.fields.slug,\n        filename: node.fields.slug,\n      },\n      ...newFrontmatter,\n      filename: node.fields.path,\n    };\n  });\n  return (\n    <WrapperLayout {...rest}>\n      <MainContent\n        {...rest}\n        localizedPageData={{\n          meta: {\n            ...transformerFrontmatter(frontmatter),\n            ...fields,\n            filename: fields.slug,\n            path: fields.path,\n          },\n          toc: tableOfContents,\n          content: html,\n        }}\n        menuList={menuList}\n      />\n    </WrapperLayout>\n  );\n}\n\nexport const pageQuery = graphql`\n  query TemplateDocsMarkdown($slug: String!, $type: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      tableOfContents(maxDepth: 2)\n      frontmatter {\n        title {\n          zh_CN\n          en_US\n        }\n        order\n        type\n      }\n      fields {\n        path\n        slug\n        modifiedTime\n        avatarList {\n          href\n          text\n          src\n        }\n      }\n    }\n    allMarkdownRemark(\n      filter: { fileAbsolutePath: { regex: $type } }\n      sort: { fields: [fields___slug, frontmatter___time], order: DESC }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            title {\n              zh_CN\n              en_US\n            }\n            order\n            type\n            time\n          }\n          fields {\n            slug\n            path\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}